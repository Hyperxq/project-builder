Object.defineProperty(exports,"__esModule",{value:!0}),exports.installPackages=void 0;const e=require("../../utils"),n=require("@schematics/angular/utility/dependencies"),s=require("node:child_process");exports.installPackages=function(o){e.logger.log({level:"info",message:e.colors.bold("The installation of collections began")});const a=[],{packages:l,dryRun:t,packageManager:c}=o;return o=>{let i=new e.Spinner("installPackages");i.start("Checking collections");try{for(const{packageName:i,version:r}of l){if(a.some((e=>e===i)))continue;const l=new e.Spinner(i);l.start(`Checking if ${e.colors.blue(i)} are install...`);const g=i+""+(r?`@${r}`:"");(0,n.getPackageJsonDependency)(o,i)?(l.info(`${e.colors.green(i)} are already installed`),l.stop()):(t||(0,s.execSync)(`${c??"npm"} i ${g} --skip-confirmation`,{stdio:"inherit"}),l.succeed(`${e.colors.green(i)} was installed successfully`))}i.succeed("All the  packages have been installed")}catch(n){i?.stop(),e.logger.error("Collection installation error:",n.message)}}};
