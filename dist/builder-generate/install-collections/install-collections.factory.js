Object.defineProperty(exports,"__esModule",{value:!0}),exports.installPackages=void 0;const e=require("../../utils"),n=require("@schematics/angular/utility/dependencies"),s=require("node:child_process");exports.installPackages=function(a){const c=[],{packages:t,dryRun:i,packageManager:o}=a;return a=>{let r=new e.Spinner("installPackages");r.start("Checking collections");try{for(const{packageName:r,version:l}of t){if(c.some((e=>e===r)))continue;const t=new e.Spinner(r);t.start(`Checking if ${e.colors.blue(r)} are install...`);const p=r+""+(l?`@${l}`:"");(0,n.getPackageJsonDependency)(a,r)?(t.info(`${e.colors.green(r)} are already installed`),t.stop()):(i||(0,s.execSync)(`${o??"npm"} i ${p} --skip-confirmation`,{stdio:"inherit"}),t.succeed(`${e.colors.green(r)} was installed successfully`))}r.succeed("All the  packages have been installed")}catch(e){throw r?.stop(),e}}};
